!function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return i(r||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){function n(t){h.call(this),"string"==typeof t&&(t={text:t}),this._opt=s({},t),t&&this.update(t)}var i=t("layout-bmfont-text"),o=t("inherits"),a=t("quad-indices"),u=t("three-buffer-vertex-data"),s=t("object-assign"),f=t("./lib/vertices"),c=t("./lib/utils"),h=THREE.BufferGeometry;e.exports=function(t){return new n(t)},o(n,h),n.prototype.update=function(t){if("string"==typeof t&&(t={text:t}),t=s({},this._opt,t),!t.font)throw new TypeError("must specify a { font } in options");this.layout=i(t);var e=!1!==t.flipY,r=t.font,n=r.common.scaleW,o=r.common.scaleH,c=this.layout.glyphs.filter(function(t){var e=t.data;return e.width*e.height>0});this.visibleGlyphs=c;var h=f.positions(c),p=f.uvs(c,n,o,e),l=a({clockwise:!0,type:"uint16",count:c.length});if(u.index(this,l,1,"uint16"),u.attr(this,"position",h,2),u.attr(this,"uv",p,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var d=f.pages(c);u.attr(this,"page",d,1)}},n.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);c.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},n.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,r=this.attributes.position.itemSize;if(!e||!r||e.length<2)return void t.makeEmpty();c.computeBox(e,t)}},{"./lib/utils":2,"./lib/vertices":3,inherits:8,"layout-bmfont-text":10,"object-assign":11,"quad-indices":12,"three-buffer-vertex-data":13}],2:[function(t,e,r){function n(t){var e=t.length/i;o.min[0]=t[0],o.min[1]=t[1],o.max[0]=t[0],o.max[1]=t[1];for(var r=0;r<e;r++){var n=t[r*i+0],a=t[r*i+1];o.min[0]=Math.min(n,o.min[0]),o.min[1]=Math.min(a,o.min[1]),o.max[0]=Math.max(n,o.max[0]),o.max[1]=Math.max(a,o.max[1])}}var i=2,o={min:[0,0],max:[0,0]};e.exports.computeBox=function(t,e){n(t),e.min.set(o.min[0],o.min[1],0),e.max.set(o.max[0],o.max[1],0)},e.exports.computeSphere=function(t,e){n(t);var r=o.min[0],i=o.min[1],a=o.max[0],u=o.max[1],s=a-r,f=u-i,c=Math.sqrt(s*s+f*f);e.center.set(r+s/2,i+f/2,0),e.radius=c/2}},{}],3:[function(t,e,r){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),r=0;return t.forEach(function(t){var n=t.data.page||0;e[r++]=n,e[r++]=n,e[r++]=n,e[r++]=n}),e},e.exports.uvs=function(t,e,r,n){var i=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,u=a.x+a.width,s=a.y+a.height,f=a.x/e,c=a.y/r,h=u/e,p=s/r;n&&(c=(r-a.y)/r,p=(r-s)/r),i[o++]=f,i[o++]=c,i[o++]=f,i[o++]=p,i[o++]=h,i[o++]=p,i[o++]=h,i[o++]=c}),i},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),r=0;return t.forEach(function(t){var n=t.data,i=t.position[0]+n.xoffset,o=t.position[1]+n.yoffset,a=n.width,u=n.height;e[r++]=i,e[r++]=o,e[r++]=i,e[r++]=o+u,e[r++]=i+a,e[r++]=o+u,e[r++]=i+a,e[r++]=o}),e}},{}],4:[function(t,e,r){function n(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===i.call(t.buffer)||Array.isArray(t)}var i=Object.prototype.toString;e.exports=n},{}],5:[function(t,e,r){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},{}],6:[function(t,e,r){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],7:[function(t,e,r){function n(t,e,r){if(!t)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(t)&&Array.isArray(t[0])){var n=t[0].length,o=t.length*n;e&&"string"!=typeof e||(e=new(i(e||"float32"))(o+r));var a=e.length-r;if(o!==a)throw new Error("source length "+o+" ("+n+"x"+t.length+") does not match destination length "+a);for(var u=0,s=r;u<t.length;u++)for(var f=0;f<n;f++)e[s++]=t[u][f]}else if(e&&"string"!=typeof e)e.set(t,r);else{var c=i(e||"float32");0===r?e=new c(t):(e=new c(t.length+r),e.set(t,r))}return e}var i=t("dtype");e.exports=n},{dtype:6}],8:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],9:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}e.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},{}],10:[function(t,e,r){function n(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function i(t){Object.defineProperty(n.prototype,t,{get:o(t),configurable:!0})}function o(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function a(t,e){if(!t.chars||0===t.chars.length)return null;var r=p(t.chars,e);return r>=0?t.chars[r]:null}function u(t){for(var e=0;e<g.length;e++){var r=g[e].charCodeAt(0),n=p(t.chars,r);if(n>=0)return t.chars[n].height}return 0}function s(t){for(var e=0;e<m.length;e++){var r=m[e].charCodeAt(0),n=p(t.chars,r);if(n>=0)return t.chars[n]}return 0}function f(t){for(var e=0;e<v.length;e++){var r=v[e].charCodeAt(0),n=p(t.chars,r);if(n>=0)return t.chars[n].height}return 0}function c(t,e,r){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===e&&o.second===r)return o.amount}return 0}function h(t){return"center"===t?A:"right"===t?_:w}function p(t,e,r){r=r||0;for(var n=r;n<t.length;n++)if(t[n].id===e)return n;return-1}var l=t("word-wrapper"),d=t("xtend"),y=t("as-number"),g=["x","e","a","o","n","s","r","c","u","m","v","w","z"],m=["m","w"],v=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b="\t".charCodeAt(0),x=" ".charCodeAt(0),w=0,A=1,_=2;e.exports=function(t){return new n(t)},n.prototype.update=function(t){if(t=d({measure:this._measure},t),this._opt=t,this._opt.tabSize=y(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,r=t.text||"",n=t.font;this._setupSpaceGlyphs(n);var i=l.lines(r,t),o=t.width||0;e.length=0;var a=i.reduce(function(t,e){return Math.max(t,e.width,o)},0),s=0,p=0,g=y(t.lineHeight,n.common.lineHeight),m=n.common.base,v=g-m,b=t.letterSpacing||0,x=g*i.length-v,w=h(this._opt.align);p-=x,this._width=a,this._height=x,this._descender=g-m,this._baseline=m,this._xHeight=u(n),this._capHeight=f(n),this._lineHeight=g,this._ascender=g-v-this._xHeight;var E=this;i.forEach(function(t,i){for(var o,u=t.start,f=t.end,h=t.width,l=u;l<f;l++){var d=r.charCodeAt(l),y=E.getGlyph(n,d);if(y){o&&(s+=c(n,o.id,y.id));var m=s;w===A?m+=(a-h)/2:w===_&&(m+=a-h),e.push({position:[m,p],data:y,index:l,line:i}),s+=y.xadvance+b,o=y}}p+=g,s=0}),this._linesTotal=i.length},n.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=a(t,x)||s(t)||t.chars[0],r=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=d(e,{x:0,y:0,xadvance:r,id:b,xoffset:0,yoffset:0,width:0,height:0})}},n.prototype.getGlyph=function(t,e){var r=a(t,e);return r||(e===b?this._fallbackTabGlyph:e===x?this._fallbackSpaceGlyph:null)},n.prototype.computeMetrics=function(t,e,r,n){var i,o,a=this._opt.letterSpacing||0,u=this._opt.font,s=0,f=0,h=0;if(!u.chars||0===u.chars.length)return{start:e,end:e,width:0};r=Math.min(t.length,r);for(var p=e;p<r;p++){var l=t.charCodeAt(p),i=this.getGlyph(u,l);if(i){i.xoffset;s+=o?c(u,o.id,i.id):0;var d=s+i.xadvance+a,y=s+i.width;if(y>=n||d>=n)break;s=d,f=y,o=i}h++}return o&&(f+=o.xoffset),{start:e,end:e+h,width:f}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(i)},{"as-number":5,"word-wrapper":14,xtend:15}],11:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,u,s=n(t),f=1;f<arguments.length;f++){r=Object(arguments[f]);for(var c in r)o.call(r,c)&&(s[c]=r[c]);if(i){u=i(r);for(var h=0;h<u.length;h++)a.call(r,u[h])&&(s[u[h]]=r[u[h]])}}return s}},{}],12:[function(t,e,r){var n=t("dtype"),i=t("an-array"),o=t("is-buffer"),a=[0,2,3],u=[2,1,3];e.exports=function(t,e){t&&(i(t)||o(t))||(e=t||{},t=null),e="number"==typeof e?{count:e}:e||{};for(var r="string"==typeof e.type?e.type:"uint16",s="number"==typeof e.count?e.count:1,f=e.start||0,c=!1!==e.clockwise?a:u,h=c[0],p=c[1],l=c[2],d=6*s,y=t||new(n(r))(d),g=0,m=0;g<d;g+=6,m+=4){var v=g+f;y[v+0]=m+0,y[v+1]=m+1,y[v+2]=m+2,y[v+3]=m+h,y[v+4]=m+p,y[v+5]=m+l}return y}},{"an-array":4,dtype:6,"is-buffer":9}],13:[function(t,e,r){function n(t,e,r,n){"number"!=typeof r&&(r=1),"string"!=typeof n&&(n="uint16");var i=!t.index&&"function"!=typeof t.setIndex,a=i?t.getAttribute("index"):t.index,u=o(a,e,r,n);u&&(i?t.addAttribute("index",u):t.index=u)}function i(t,e,r,n,i){if("number"!=typeof n&&(n=3),"string"!=typeof i&&(i="float32"),Array.isArray(r)&&Array.isArray(r[0])&&r[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+r[0].length);var a=t.getAttribute(e),u=o(a,r,n,i);u&&t.addAttribute(e,u)}function o(t,e,r,n){if(e=e||[],!t||a(t,e,r)){e=u(e,n);var i=t&&"function"!=typeof t.setArray;return t&&!i||(i&&!s&&(s=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),t=new THREE.BufferAttribute(e,r)),t.itemSize=r,t.needsUpdate=!0,"function"==typeof t.setArray&&t.setArray(e),t}return u(e,t.array),t.needsUpdate=!0,null}function a(t,e,r){if(t.itemSize!==r)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(e)&&Array.isArray(e[0])?n!==e.length*r:n!==e.length}var u=t("flatten-vertex-data"),s=!1;e.exports.attr=i,e.exports.index=n},{"flatten-vertex-data":7}],14:[function(t,e,r){function n(t,e,r,n){var i=t.indexOf(e,r);return-1===i||i>n?n:i}function i(t){return c.test(t)}function o(t,e,r,n,i){for(var o=[],a=r,u=r;u<n&&u<e.length;u++){var f=e.charAt(u),c=s.test(f);if(c||u===n-1){var h=c?u:u+1,p=t(e,a,h,i);o.push(p),a=u+1}}return o}function a(t,e,r,o,a,u){var s=[],c=a;for("nowrap"===u&&(c=Number.MAX_VALUE);r<o&&r<e.length;){for(var h=n(e,f,r,o);r<h&&i(e.charAt(r));)r++;var p=t(e,r,h,c),l=r+(p.end-p.start),d=l+f.length;if(l<h){for(;l>r&&!i(e.charAt(l));)l--;if(l===r)d>r+f.length&&d--,l=d;else for(d=l;l>r&&i(e.charAt(l-f.length));)l--}if(l>=r){var y=t(e,r,l,c);s.push(y)}r=d}return s}function u(t,e,r,n){return{start:e,end:e+Math.min(n,r-e)}}var s=/\n/,f="\n",c=/\s/;e.exports=function(t,r){return e.exports.lines(t,r).map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(t,e){if(e=e||{},0===e.width&&"nowrap"!==e.mode)return[];t=t||"";var r="number"==typeof e.width?e.width:Number.MAX_VALUE,n=Math.max(0,e.start||0),i="number"==typeof e.end?e.end:t.length,s=e.mode,f=e.measure||u;return"pre"===s?o(f,t,n,i,r):a(f,t,n,i,r,s)}},{}],15:[function(t,e,r){function n(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)i.call(r,n)&&(t[n]=r[n])}return t}e.exports=n;var i=Object.prototype.hasOwnProperty},{}]},{},[1]);
